<lobby-sub-page-layout title="Let's Get to Know You!">
  <section
    [ngStyle]="{ backgroundColor: 'var(background)', color: 'var(--text)' }"
    class="w-full h-full px-4 py-6 mb-40"
  >
    <p class="text-xl font-medium mb-4">
      Create your profile and unlock a personalized experience just for you.
    </p>

    <h2 [ngStyle]="{ color: 'var(--primary)' }" class="text-lg font-bold mb-2">
      Why we ask for your details:
    </h2>

    <p
      [ngStyle]="{ color: 'var(--text)' }"
      class="text-base leading-relaxed mb-4"
    >
      Sharing your
      <span class="font-semibold">first name</span>,
      <span class="font-semibold">last name</span>,
      <span class="font-semibold">birthday</span>,
      <span class="font-semibold">address</span>, and
      <span class="font-semibold 0">image</span> helps us shape a unique journey
      tailored to <em>you</em>. From remembering preferences to celebrating your
      milestones, we aim to make every interaction smoother and more meaningful.
    </p>

    <p
      [ngStyle]="{ color: 'var(--secondary)' }"
      class="text-base leading-relaxed mb-6"
    >
      Go ahead — fill in your details and step into a smarter, more personal
      experience.
    </p>

    <ul
      [ngStyle]="{ backgroundColor: 'var(--lighterGray)' }"
      class="border border-blue-100 rounded-xl p-4 space-y-2 text-sm shadow-sm"
    >
      <li class="flex items-start gap-2">
        <span>✅</span> <span>A better fit for your needs</span>
      </li>
      <li class="flex items-start gap-2">
        <span>🎁</span> <span>Exclusive, personalized content</span>
      </li>
      <li class="flex items-start gap-2">
        <span>🎈</span>
        <span>A warm, human touch — because you're not just a number</span>
      </li>
    </ul>

    <div class="mt-8 flex items-center justify-end">
      <button
        class="flex justify-start items-center gap-1 px-5 py-1 rounded-lg text-white font-medium italic shadow-md transition-all duration-200 hover:opacity-90 cursor-pointer"
        [ngStyle]="{ backgroundColor: 'var(--primary)' }"
        (click)="onSkip()"
      >
        <span class="uppercase tracking-wide text-sm">Skip</span>

        <svg-icon
          color="#ffffff"
          [name]="isLoading() ? 'loader' : 'arrow_long'"
          [ngClass]="{ 'animate-spin': isLoading() }"
          class="duration-[1000]"
        ></svg-icon>
      </button>
    </div>

    <div class="flex items-start justify-between mt-6 gap-x-16">
      <form
        [ngStyle]="{ backgroundColor: 'var(--background)' }"
        class="p-10 rounded-lg border border-[var(--primary)] shadow-2xl flex flex-col items-start justify-start space-y-5 w-[45%]"
        [formGroup]="profileForm"
        (ngSubmit)="onSubmit()"
      >
        <avatar
          (imageUploadEvent)="onUploadAvatar($event)"
          size="100px"
          [profile]="profile_()"
          [editOnClick]="true"
        ></avatar>
        <div
          [ngStyle]="{ color: 'var(--secondary)' }"
          class="capitalize mb-6 font-bold flex flex-col items-start justify-start gap-y-2"
        >
          <div class="flex flex-row items-center justify-start gap-x-3">
            <h4 class="text-2xl">Start building your profile now.</h4>
          </div>
        </div>

        <formfield
          class="w-full"
          label="given name"
          name="givenName"
          formControlName="givenName"
        ></formfield>

        <formfield
          class="w-full"
          label="family name"
          name="familyName"
          formControlName="familyName"
        ></formfield>

        <div class="flex flex-row gap-4 w-full">
          <formfield
            class="w-full"
            label="address"
            name="address"
            formControlName="address"
          ></formfield>
          <formfield
            class="w-full"
            label="city"
            name="city"
            formControlName="city"
          ></formfield>
        </div>

        <div class="flex flex-row gap-4 w-full">
          <formfield
            class="w-full"
            label="postal code"
            name="postalCode"
            formControlName="postalCode"
          ></formfield>
          <formfield
            class="w-full"
            label="province"
            name="province"
            formControlName="province"
          ></formfield>
          <formfield
            class="w-full"
            label="country"
            name="country"
            formControlName="country"
          ></formfield>
        </div>
        <formfield
          class="w-full"
          label="phone"
          name="phone"
          type="tel"
          formControlName="phone"
        ></formfield>
        <formfield
          class="w-full hidden"
          label="image"
          name="image"
          formControlName="imageUrl"
        ></formfield>

        <button-custom
          class="w-full mt-4"
          name="login"
          type="submit"
          size="large"
          backgroundColor="var(--accent)"
          color="#ffffff"
          fontWeight="bold"
          [disabled]="false"
        >
          <div class="flex flex-row items-center justify-center space-x-2">
            <svg-icon
              color="#fffffff"
              [ngClass]="{ 'animate-spin': isLoading() }"
              class="duration-[3000]"
              size="24px"
              [name]="isLoading() ? 'loader' : 'update_profile'"
            ></svg-icon>

            <span>update profile</span>
          </div>
        </button-custom>
      </form>

      <img class="" src="images/profile_image.svg" alt="" />
    </div>
  </section>
</lobby-sub-page-layout>
